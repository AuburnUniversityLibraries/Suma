{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/App.vue?d851","webpack:///./src/components/SumaClient.vue?757e","webpack:///src/components/SumaClient.vue","webpack:///./src/components/SumaClient.vue?da07","webpack:///./src/components/SumaClient.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/components/SumaClient.vue?cc12"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","on","$event","menuShown","resetCounts","_v","undoLastCount","toggleDebugWindow","_e","submitCounts","directives","rawName","expression","$$selectedVal","Array","filter","target","options","selected","map","val","_value","currentinit","multiple","updateInit","_l","item","initiativeId","domProps","_s","initiativeTitle","childlist","index","childinit","$set","updateChild","undefined","child","id","title","children","getCounts","class","locationtitle","preventDefault","addToCount","keys","activities","required","activitygroup","isArray","activityvaluesmulti","_i","requiredFieldsCheck","$$a","$$el","$$c","checked","$$v","$$i","concat","allowMulti","activityvalues","_q","deselect","buttonClickable","location","staticStyle","syncCountDict","_","initresults","initdata","cachedinitdata","initurl","initiativeUrl","baseiniturl","baseInitUrl","syncurl","syncUrl","appVersion","device","counts","showcounts","debug","created","getDeviceData","loadCounts","loadInitInfo","loadInitData","updated","watch","handler","deep","methods","debugview","hidden","os","$nextTick","from","ag","console","error","indexOf","populateInitData","locations","cleanValues","activitykeys","activityGroups","groupBy","dictvalue","childchild","activekeys","maxKey","max","createLocationTitle","showCounts","resetActivityChecks","initData","nexttitle","reject","values","isUndefined","document","body","scrollTop","documentElement","syncObj","method","url","headers","response","parsedObject","JSON","parse","totals","reduce","sessions","total","session","text","icon","log","syncError","clearCounts","assign","$data","$options","buttons","parameters","pop","currentcount","allcounts","computecounts","timestamp","Math","round","Date","now","countDict","remove","elem","number","computed","buildDict","stringify","component","components","SumaClient","Vue","config","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.ea3e240c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('SumaClient')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"header_content\"},[_c('button',{staticClass:\"headerbuttons leftalign menubutton\",attrs:{\"aria-label\":\"toggle menu\"},on:{\"click\":function($event){_vm.menuShown = !_vm.menuShown}}},[(!_vm.menuShown)?_c('i',{staticClass:\"fas fa-bars\"}):_c('i',{staticClass:\"fas fa-times\"})]),_c('button',{staticClass:\"headerbuttons leftalign\",attrs:{\"aria-label\":\"Abandon all counts\"},on:{\"click\":function($event){return _vm.resetCounts()}}},[_c('span',{staticClass:\"buttontext\"},[_vm._v(\"Abandon All Counts\")]),_c('i',{staticClass:\"fas fa-trash-alt toolbar-icons\"})]),_c('button',{staticClass:\"headerbuttons leftalign\",attrs:{\"aria-label\":\"Undo last count\"},on:{\"click\":function($event){return _vm.undoLastCount()}}},[_c('span',{staticClass:\"buttontext\"},[_vm._v(\"Undo Last Count\")]),_c('i',{staticClass:\"fas fa-undo toolbar-icons\"})]),(_vm.debug)?_c('button',{staticClass:\"headerbuttons rightalign\",on:{\"click\":_vm.toggleDebugWindow}},[_vm._v(\"show debug\")]):_vm._e(),_c('button',{staticClass:\"headerbuttons rightalign\",attrs:{\"aria-label\":\"finish collecting\"},on:{\"click\":function($event){return _vm.submitCounts()}}},[_c('span',{staticClass:\"buttontext\"},[_vm._v(\"Finish collecting\")]),_c('i',{staticClass:\"fas fa-check-circle toolbar-icons\"})])]),_c('transition',{attrs:{\"name\":\"sidebar\"}},[(_vm.menuShown)?_c('div',{staticClass:\"selectbuttons\"},[_c('div',{staticClass:\"alldropdowns\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentinit),expression:\"currentinit\"}],attrs:{\"aria-label\":\"initiative dropdown\",\"id\":\"initiativeDropdown\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.currentinit=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.updateInit()}]}},[_c('option',{attrs:{\"disabled\":\"\",\"value\":\"\"}},[_vm._v(\"Select an initiative\")]),_vm._l((_vm.initresults),function(item){return _c('option',{key:item.initiativeId,domProps:{\"value\":item.initiativeId,\"innerHTML\":_vm._s(item.initiativeTitle)}})})],2),_vm._l((_vm.children),function(childlist,index){return _c('span',{key:index,attrs:{\"id\":'locationtree-' + index}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.childinit[index]),expression:\"childinit[index]\"}],attrs:{\"aria-label\":\"tree element dropdown\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.childinit, index, $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.updateChild(index)}]}},[_c('option',{attrs:{\"disabled\":\"\"},domProps:{\"value\":undefined}},[_vm._v(\"Please select one\")]),_vm._l((childlist),function(child){return _c('option',{key:child.id,domProps:{\"value\":child.id}},[_c('span',{domProps:{\"innerHTML\":_vm._s(child.title)}}),(!child.children)?_c('span',[_vm._v(_vm._s(_vm.getCounts(child.id)))]):_vm._e()])})],2)])})],2)]):_vm._e()]),(_vm.showcounts)?_c('div',{class:[_vm.menuShown ? 'counts' : 'fullpagecounts']},[_c('h3',{attrs:{\"id\":\"current_loc_label\"},domProps:{\"innerHTML\":_vm._s(this.locationtitle)}}),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.addToCount(1)}}},[(Object.keys(_vm.activities).length > 0)?_c('div',{staticClass:\"activities\"},_vm._l((_vm.activities),function(value,key){return _c('div',{key:key,staticClass:\"activityGroup\",class:{required: value.required}},[_c('h3',{staticClass:\"activityTitle\"},[_c('span',{domProps:{\"innerHTML\":_vm._s(value.title)}}),(value.required)?_c('span',{staticClass:\"requiredicon\"},[_vm._v(\"*\")]):_vm._e(),(value.allowMulti)?_c('span',{staticClass:\"instructions\"},[_vm._v(\" (Choose one or more)\")]):_c('span',{staticClass:\"instructions\"},[_vm._v(\" (Select one)\")])]),_vm._l((value.options),function(activitygroup){return _c('div',{key:activitygroup.id,attrs:{\"id\":\"activityButton\"}},[_c('label',[(value.allowMulti)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.activityvaluesmulti),expression:\"activityvaluesmulti\"}],staticClass:\"button\",attrs:{\"type\":\"checkbox\",\"name\":value.id,\"id\":activitygroup.id},domProps:{\"value\":activitygroup.id,\"checked\":Array.isArray(_vm.activityvaluesmulti)?_vm._i(_vm.activityvaluesmulti,activitygroup.id)>-1:(_vm.activityvaluesmulti)},on:{\"click\":function($event){return _vm.requiredFieldsCheck()},\"change\":function($event){var $$a=_vm.activityvaluesmulti,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=activitygroup.id,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.activityvaluesmulti=$$a.concat([$$v]))}else{$$i>-1&&(_vm.activityvaluesmulti=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.activityvaluesmulti=$$c}}}}):(!value.allowMulti)?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.activityvalues[key]),expression:\"activityvalues[key]\"}],attrs:{\"type\":\"radio\",\"name\":value.id,\"id\":activitygroup.id},domProps:{\"value\":activitygroup.id,\"checked\":_vm._q(_vm.activityvalues[key],activitygroup.id)},on:{\"click\":function($event){return _vm.deselect(activitygroup.id, key)},\"change\":function($event){return _vm.$set(_vm.activityvalues, key, activitygroup.id)}}}):_vm._e(),_c('span',{domProps:{\"innerHTML\":_vm._s(activitygroup.title)}})])])})],2)}),0):_vm._e(),_c('button',{staticClass:\"countButton\",attrs:{\"type\":\"submit\",\"disabled\":!_vm.buttonClickable,\"enabled\":_vm.buttonClickable}},[_vm._v(\"Count\"+_vm._s(_vm.getCounts(_vm.location)))])])]):_c('div',[_vm._v(\" No current location \")]),(_vm.debug)?_c('div',{staticClass:\"debug\",staticStyle:{\"position\":\"fixed\",\"bottom\":\"0\",\"margin-left\":\"25%\"},attrs:{\"id\":\"debugger\",\"hidden\":\"\"}},[_c('p',[_vm._v(\"If we finish now, this is sent to the sumaserver:\")]),_c('p',[_vm._v(_vm._s(_vm.syncCountDict))])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"header_content\">\n      <button v-on:click=\"menuShown = !menuShown\" class=\"headerbuttons leftalign menubutton\" aria-label=\"toggle menu\">\n        <i class=\"fas fa-bars\" v-if=\"!menuShown\"></i>\n        <i class=\"fas fa-times\" v-else></i>\n      </button>\n      <button v-on:click=\"resetCounts()\" class=\"headerbuttons leftalign\" aria-label=\"Abandon all counts\">\n        <span class=\"buttontext\">Abandon All Counts</span>\n        <i class=\"fas fa-trash-alt toolbar-icons\"></i>\n      </button>\n      <button v-on:click=\"undoLastCount()\" class=\"headerbuttons leftalign\" aria-label=\"Undo last count\">\n        <span class=\"buttontext\">Undo Last Count</span>\n        <i class=\"fas fa-undo toolbar-icons\"></i>\n      </button>\n      <button v-on:click=\"toggleDebugWindow\" v-if=\"debug\" class=\"headerbuttons rightalign\">show debug</button>\n      <button v-on:click=\"submitCounts()\" class=\"headerbuttons rightalign\" aria-label=\"finish collecting\">\n        <span class=\"buttontext\">Finish collecting</span>\n        <i class=\"fas fa-check-circle toolbar-icons\"></i>\n      </button>\n    </div>\n    <transition name=\"sidebar\">\n      <div class=\"selectbuttons\" v-if=\"menuShown\">\n        <div class=\"alldropdowns\">\n          <select aria-label=\"initiative dropdown\" id=\"initiativeDropdown\" v-model=\"currentinit\" v-on:change=\"updateInit()\">\n            <option disabled value=\"\">Select an initiative</option>\n            <option v-bind:value=\"item.initiativeId\" v-for=\"item in initresults\" v-bind:key=\"item.initiativeId\" v-html=\"item.initiativeTitle\">\n            </option>\n          </select>\n          <span v-for=\"(childlist, index) in children\" v-bind:key=\"index\" v-bind:id=\"'locationtree-' + index\">\n            <select aria-label=\"tree element dropdown\" v-model=\"childinit[index]\" v-on:change=\"updateChild(index)\">\n              <option disabled :value=\"undefined\">Please select one</option>\n              <option v-bind:value=\"child.id\" v-for=\"child in childlist\" v-bind:key=\"child.id\">\n                <span v-html=\"child.title\"></span>\n                <span v-if=\"!child.children\">{{ getCounts(child.id) }}</span>\n              </option>\n            </select>\n          </span>\n        </div>\n      </div>\n    </transition>\n    <div v-bind:class=\"[menuShown ? 'counts' : 'fullpagecounts']\" v-if=\"showcounts\">\n      <h3 v-html=\"this.locationtitle\" id=\"current_loc_label\"></h3>\n      <form @submit.prevent=\"addToCount(1)\">\n        <div v-if=\"Object.keys(activities).length > 0\" class=\"activities\">\n          <div v-for=\"(value, key) in activities\" v-bind:key=\"key\" class=\"activityGroup\" v-bind:class=\"{required: value.required}\">\n            <h3 class=\"activityTitle\">\n              <span v-html=\"value.title\"></span>\n              <span v-if=\"value.required\" class=\"requiredicon\">*</span>\n              <span v-if=\"value.allowMulti\" class=\"instructions\"> (Choose one or more)</span>\n              <span v-else class=\"instructions\"> (Select one)</span>\n            </h3>\n            <div id=\"activityButton\" v-for=\"activitygroup in value.options\" v-bind:key=\"activitygroup.id\">\n              <label>\n                <input type=\"checkbox\" v-bind:name=\"value.id\" v-on:click=\"requiredFieldsCheck()\" class=\"button\" v-if=\"value.allowMulti\" v-bind:id=\"activitygroup.id\" v-bind:value=\"activitygroup.id\" v-model=\"activityvaluesmulti\">\n                <input type=\"radio\" v-bind:name=\"value.id\" v-on:click=\"deselect(activitygroup.id, key)\" v-else-if=\"!value.allowMulti\" v-bind:id=\"activitygroup.id\" v-bind:value=\"activitygroup.id\" v-model=\"activityvalues[key]\">\n                <span v-html=\"activitygroup.title\"></span>\n              </label>\n            </div>\n          </div>\n        </div>\n        <button type=\"submit\" v-bind:disabled=\"!buttonClickable\" v-bind:enabled=\"buttonClickable\" class=\"countButton\">Count{{ getCounts(location) }}</button>\n      </form>\n    </div>\n    <div v-else>\n      No current location\n    </div>\n      <div id='debugger' class='debug' v-if=\"debug\" hidden style=\"position: fixed;\n    bottom: 0;\n    margin-left: 25%;\">\n        <p>If we finish now, this is sent to the sumaserver:</p>\n        <p>{{ syncCountDict }}</p>\n      </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable no-console */\n/*global baseInitUrl, initiativeUrl, syncUrl*/\nimport axios from 'axios';\nimport localforage from 'localforage';\nimport DeviceDetector from \"device-detector-js\";\nimport swal from 'sweetalert';\nimport pluralize from 'pluralize';\n\nvar _ = require('lodash');\n\nexport default {\n  name: 'SumaClient',\n  data: function() {\n    return {\n      initresults: '',\n      currentinit: '',\n      initdata: '',\n      cachedinitdata: {},\n      initurl: initiativeUrl,\n      baseiniturl: baseInitUrl,\n      syncurl: syncUrl,\n      appVersion: process.env.VUE_APP_VERSION,\n      device: '',\n      children: [],\n      activities: {},\n      childinit: {},\n      counts: {},\n      location: '',\n      activityvalues: {},\n      activityvaluesmulti: [],\n      showcounts: false,\n      locationtitle: '',\n      buttonClickable: false,\n      menuShown: true,\n      debug: process.env.NODE_ENV === 'development'\n    }\n  },\n  created() {\n    this.getDeviceData();\n\n    //load and submit any old counts\n    this.loadCounts();\n\n    this.loadInitInfo();\n\n    this.loadInitData();\n  },\n  updated() {\n\n  },\n  watch: {\n    cachedinitdata: function (data) {\n      localforage.setItem('cachedinitdata', data);\n    },\n    counts: {\n      handler: function() {\n        localforage.setItem('counts', this.counts);\n      },\n      deep: true\n    },\n    children: {\n      handler: function() {\n        if (this.showcounts) {\n          this.addToCount(0)\n        }\n      },\n      deep: true\n    } \n  },\n  methods: {\n    toggleDebugWindow: function() {\n      let debugview = document.getElementById('debugger');\n      debugview.hidden = !debugview.hidden;\n    },\n    getDeviceData: function() {\n      // Get device type (Mac, iPad, etc.)\n      const deviceDetector = new DeviceDetector();\n      const userAgent = navigator.userAgent;\n      const device = deviceDetector.parse(userAgent); \n      this.device = device.os.name;\n    },\n    requiredFieldsCheck: function(){\n      //check to see if all elements with the class .required have been checked.\n      this.$nextTick(() => {\n        const ag = document.querySelectorAll('div.activityGroup.required');\n        var checked = Array.from(ag).map(elem => elem.querySelectorAll('input:checked').length);\n        //set buttonclickable based on if any of the required elements do not have a checked item (length of 0)\n        this.buttonClickable = checked.indexOf(0) == -1;\n      });\n    },\n    loadCounts: function(){\n      //get counts field from indexDB, load into data\n      localforage.getItem('counts').then((counts) => {\n        if(counts != null){\n          this.counts = counts;\n          return true;\n        } else {\n          return false;\n        }\n      })\n      .then((savedCounts) => { if(savedCounts){this.submitCounts();} })\n      .catch(function(err){\n        console.error('There was an error '+err);\n      });\n    },\n    loadInitData: function(){\n      localforage.getItem('cachedinitdata').then((cache) => {\n        if(cache != null) {\n          //remove any cached initiatives last retrieved > an hour ago\n          this.cachedinitdata = _.omitBy(cache, (val) => Date.now() - val.retrieved > 1000*60*60);\n        }\n      });\n    },\n    loadInitInfo: function(){\n      localforage.getItem('initcache').then((cache) => {\n        //get new initiatives info if cache is empty or last retrieved > an hour ago\n        if(cache === null || Date.now() - cache.retrieved > 1000*60*60){\n          axios.get(this.baseiniturl).then((response) => {\n            if(response.data){\n              this.initresults = response.data;\n              localforage.setItem('initcache', {retrieved: Date.now(), initresults: response.data});\n            }\n          }).catch(function(err){\n            console.error('There was an error '+err);\n          });\n        } else {\n          // console.log(cache);\n          this.initresults = cache.initresults;\n        }\n      });\n    },\n    updateInit: function() {\n      if (Object.keys(this.cachedinitdata).indexOf(this.currentinit) > -1){\n        this.populateInitData(this.cachedinitdata[this.currentinit])\n      } else {\n        axios.get(`${this.initurl}${this.currentinit}`).then(response => {\n          this.populateInitData(response.data)\n          this.$set(this.cachedinitdata,this.currentinit, _.set(response.data, 'retrieved', Date.now()));\n        })\n      }\n    },\n    populateInitData:function(data){\n      this.initdata = data;\n      this.children = [this.initdata.locations.children];\n      this.cleanValues(-1, this.children[0], data)\n\n      //combine activityGroup data and initdata.activities in a object so the data is all together\n      var activitykeys = this.initdata.activityGroups;\n      var activities = _.groupBy(this.initdata.activities, 'groupId');\n\n      this.activities = {}\n      for (var key in activities){\n        var dictvalue = activitykeys.filter(elem => elem.id == key)[0];\n        dictvalue['options'] = activities[key];\n        this.activities[key] = dictvalue;\n      }\n\n      //Check to see if any required fields in the activies \n      this.buttonClickable = Object.keys(this.activities).map(elem => this.activities[elem].required).indexOf(true) == -1;\n    },\n    updateChild: function(index) {\n      //get children at location index (locations are in tree format)\n      //i.e. {'id': 340, 'title':'Location title', 'children': [{'id': 341, 'title': 'location area 1', 'children': []}]}\n      var childchild = this.children[index].filter(element => element.id == this.childinit[index])[0].children;\n      // Used to remove child elements not having to do with the newly selected child\n      this.children = this.children.splice(0, index+1);\n      childchild ? this.children[index+1] = childchild : ''\n      this.cleanValues(index, childchild);\n    },\n    cleanValues: function(index, childchild, data=false){\n      //If the changed child had children, remove those children\n      //childinit is a object populated by the dropdowns, its keys are the index in the location tree and the value is the identifier\n      for (var key in this.childinit){\n        if (key > index){\n          this.childinit[key] = undefined\n        }\n      }\n      //Add any children of new location to childinit list\n      childchild && childchild.length == 1 ? this.childinit[index+1] = childchild[0].id : '';\n      //find largest key with a value\n      var activekeys = Object.keys(this.childinit).filter(element => !_.isUndefined(this.childinit[element]))\n      var maxKey = _.max(activekeys);\n      //set location to lowest location in hierarchy\n      this.location = this.childinit[maxKey];\n      this.createLocationTitle(data, activekeys);\n      this.showCounts();\n      this.resetActivityChecks();\n    },\n    createLocationTitle: function(data, activekeys) {\n      var initData = data ? data : this.cachedinitdata[this.currentinit];\n      this.locationtitle = initData.initiativeTitle;\n      for (var i=0; i<activekeys.length; i++){\n        var key = activekeys[i];\n        //get titles from children list that populates dropdowns using the childinit which is the model and stores selected dropdowns.\n        var nexttitle = this.children[key].filter(element => element.id == this.childinit[key])[0].title\n        this.locationtitle += ' | ' + nexttitle\n      }\n    },\n    showCounts: function(){\n      //Show counts if selected dropdowns (childinit) equals the length of the children list\n      this.showcounts = _.reject(Object.values(this.childinit), _.isUndefined).length == this.children.length;\n    },\n    resetActivityChecks: function() {\n      //unchecks all activities\n      this.activityvalues = {};\n      this.activityvaluesmulti = [];\n      document.body.scrollTop = 0;\n      document.documentElement.scrollTop = 0;\n      this.requiredFieldsCheck();\n    },\n    submitCounts: function(){\n      //get data\n      let syncObj = this.syncCountDict;\n      if (syncObj === ''){\n        return null;\n      }\n      axios({\n        method: 'POST',\n        url: this.syncurl,\n        headers: { 'content-type': 'application/x-www-form-urlencoded'},\n        data: `json=${syncObj}`,\n      }).then(response => {\n        //handle response\n        if (response.data != 'Transaction Complete'){\n          this.syncError();\n        } else {\n          //notify user of the response\n          //tell them what was sent? if so, parse syncObject for relevant info\n          var parsedObject = JSON.parse(syncObj);\n          const sessions = parsedObject.sessions.length;\n          var totals = _.reduce(parsedObject.sessions, function(total, session) {\n            total['counts'] += session.counts.length;\n            total['locations'].push(session.counts.map(count => count.location))\n            return total;\n          }, {'counts': 0, 'locations': []})\n          const locations = _.uniq(_.flatten(totals['locations'])).length;\n          const total = totals['counts'];\n          swal({\n            title: \"Counts submitted!\",\n            text: `${total} ${pluralize('counts',total)} (including \"zero\" counts) covering ${locations} ${pluralize('locations', locations)} in ${sessions} ${pluralize('initiatives',sessions)} has been sent to the server`,\n            icon: \"success\"\n          })\n          this.clearCounts();\n        }\n      })\n      .catch(error => {\n        this.syncError();\n        console.log(error);\n      });\n\n    },\n    syncError: function(){\n      swal(`Sync error`,`Error sending data to server. This may be caused by issues including server outages and Wi-Fi \\\n            connectivity problems. The data will be retained by the browser. Please contact an administrator if \\\n            this doesn't resolve itself soon.`, \"error\");\n    },\n    clearCounts: function() {\n      var initresults = this.initresults;\n      var cachedinitdata = this.cachedinitdata;\n      Object.assign(this.$data, this.$options.data.call(this));\n      this.initresults = initresults;   \n      this.cachedinitdata = cachedinitdata;  \n    },\n    resetCounts: function(){\n      swal({\n        title: 'Abandon Session',\n        text: \"Are you sure you want to delete the data you've just collected? All data you've collected will be deleted permanently.\",\n        buttons: { delete: { text: \"DELETE\", value: \"delete\", }, cancel: \"Keep Collecting\",}\n      }).then(parameters => {\n        if (parameters == \"delete\") {\n          this.clearCounts();    \n        } \n      }).catch(err => {\n      console.log(err)\n      });\n    },\n    undoLastCount: function(){\n      if (this.counts[this.currentinit] && this.counts[this.currentinit]['counts'].length > 0){\n        this.counts[this.currentinit]['counts'].pop();\n      }\n      this.resetActivityChecks();\n    },\n    getCounts: function(location) {\n      var currentcount = \"\";\n      if (this.counts[this.currentinit]){\n        var allcounts = this.counts[this.currentinit]['counts'].filter(element => element.location == location);\n        var computecounts = allcounts.filter(elem => elem.number != \"0\").length;\n        if (computecounts > 0){\n          currentcount = ` (${computecounts}) `;\n        } else if(allcounts.filter(elem => elem.number == \"0\").length > 0){\n          currentcount = \" (0) \";\n        }\n      } \n      return currentcount;\n    },\n    addToCount: function(number){\n      //called when count button pressed; adds new counts for each initiative\n      var timestamp = Math.round(Date.now() / 1000);\n      var activities = this.activityvaluesmulti.concat(Object.values(this.activityvalues));\n      var countDict = this.counts[this.currentinit] ? this.counts[this.currentinit] : {'counts':[], 'initiativeID': this.currentinit, 'startTime': timestamp}; \n      var location = this.location;\n      _.remove(countDict['counts'], function(elem) {\n        return elem.location == location && elem.number == \"0\";\n      });\n      countDict['counts'].push({'timestamp': timestamp,'location': this.location, 'activities': activities, 'number': number});\n      countDict['endTime'] = timestamp;\n      this.$set(this.counts,this.currentinit, countDict);\n      this.resetActivityChecks();\n    },\n    deselect: function(id, key){\n      //deselects radio buttons if user clicks on selected radio button\n      if (id == this.activityvalues[key]){\n        this.activityvalues[key] = '';\n      }\n      this.requiredFieldsCheck();\n    }\n  },\n  computed:  {\n    syncCountDict: function() {\n      var counts = Object.values(this.counts);\n      var buildDict = JSON.stringify({\n        'version': this.appVersion, 'device': this.device, \n        'sessions': counts\n      });\n      return counts.length > 0 ? buildDict : '';\n    }\n  }\n    \n}\n</script>\n\n<style lang=\"scss\">\n@import url('https://use.fontawesome.com/releases/v5.5.0/css/all.css');\n\n$header_padding: 10;\n$select_padding: $header_padding*2;\n$sidebar_width: 25%;\n$button_fontsize: 1em;\n\n.activities {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.activityGroup {\n  border: 1px solid DarkGray;\n  border-radius: 5px;\n  padding: 2px 5px 5px;\n  margin: 10px;\n  flex: 1 1 calc(50% - 20px);\n  text-align: center;\n  padding: 12px;\n  box-sizing: border-box;\n}\n\n#activityButton {\n  margin:4px;\n  background-color:#EFEFEF;\n  border-radius:4px;\n  border:1px solid #D0D0D0;\n  width: auto;\n  display: inline-block;\n}\n\n#activityButton label {\n  width:auto;\n}\n\n#activityButton span, .headerbuttons {\n  text-align:center;\n  padding:13px 10px;\n  display:inline-block;\n  border-radius:4px;\n  background: #D7EBF9;\n  color: #184A67;\n  font-weight: bold;\n  border: 1px solid #aed0ea;\n}\n\n.headerbuttons {\n  font-size: #{$button_fontsize};\n  margin: 0px 10px 0px;\n}\n\n#activityButton input {\n  position:absolute;\n  opacity: 0;\n  margin-top: 2%;\n}\n\n#activityButton input:hover + span {\n  background-color:#add7ed;\n}\n\n#activityButton input:checked + span {\n  background-color:#3BAAE3;\n  color:#fff;\n}\n\n#activityButton input:checked:hover + span {\n  background-color:#3BAAE3;\n  color:#fff;\n}\n\n.instructions {\n  margin-top: 1px;\n}\n\n.activityTitle {\n  padding-bottom: 0px;\n  margin-bottom: 0px;\n}\n\n.countButton {\n  font-size: 3.5em;\n  border-radius: 4px;\n  padding: 15px 32px;\n  text-align: center;\n  text-decoration: none;\n  display: inline-block;\n  cursor: pointer;\n  margin-top: 20px;\n}\n\n#current_loc_label {\n  font-size: 1.6em;\n  border-bottom: 1px dotted;\n  text-align: center;\n  margin: 0px;\n  padding: .5em;\n}\n\nselect {\n  font-size: 1.25rem;\n  text-align: center;\n}\n\n.requiredicon {\n  color:red;\n}\n\nbody {\n  margin: 0px;\n}\n\n.header_content {\n  background-color: #A2ADBC;\n  width: 100%;\n  margin-left: 0%;\n  margin-right: 0%;\n  top: 0;\n  position: sticky;\n  z-index: 3;\n  display: inline-block;\n  padding: #{$header_padding}px 0px #{$header_padding}px;\n}\n\n.selectbuttons {\n  height: calc(100% - #{$select_padding}px); /* Full-height: remove this if you want \"auto\" height */\n  width: #{$sidebar_width}; /* Set the width of the sidebar */\n  position: fixed; /* Fixed Sidebar (stay in place on scroll) */\n  z-index: 1; /* Stay on top */\n  top: calc(#{$button_fontsize} + #{$select_padding}px); /* Stay at the top */\n  left: 0;\n  background-color: #D9E2E1; /* Black */\n  overflow-x: hidden; /* Disable horizontal scroll */\n  margin-top: #{$select_padding}px;\n  transition-timing-function: ease;\n}\n\n.selectbuttons select {\n  max-width: 90%;\n  width: auto;\n}\n.counts {\n  width: 100%;\n  padding-left: #{$sidebar_width};\n  box-sizing: border-box;\n}\n\n.rightalign {\n  float: right;\n}\n.leftalign {\n  float: left;\n}\n\n.alldropdowns {\n  margin-top: 20px;\n}\n\n.counts, .fullpagecounts {\n  transition: 1s;\n}\n.sidebar-leave-active,\n.sidebar-enter-active {\n  transition: 1s;\n}\n.sidebar-enter {\n  transform: translate(-100%, 0);\n}\n.sidebar-leave-to {\n  transform: translate(-100%, 0);\n}\n\n.menubutton {\n  font-size: 2em;\n  width: 1.5em;\n  padding: 0px;\n  border: 0px solid white;\n  background: none;\n  margin-top: 5px;\n}\n\n.toolbar-icons {\n  display: none\n}\n\n@media (max-width: 600px) {\n  .headerbuttons:not(.menubutton) {\n    font-size: .7em;\n  }\n}\n\n@media (max-width: 499px) {\n  .toolbar-icons {\n    display: block;\n  }\n  .headerbuttons:not(.menubutton) {\n    font-size: 1em;\n  }\n  .buttontext {\n    display: none;\n  }\n}\n\n@media (max-width: 240px) {\n  .headerbuttons:not(.menubutton) {\n    font-size: .7em;\n    margin: 0px 3px 0px;\n  }\n  .menubutton {\n    font-size: 1.5em;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SumaClient.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SumaClient.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SumaClient.vue?vue&type=template&id=2c79da1e&\"\nimport script from \"./SumaClient.vue?vue&type=script&lang=js&\"\nexport * from \"./SumaClient.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SumaClient.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <SumaClient/>\n  </div>\n</template>\n\n<script>\nimport SumaClient from './components/SumaClient.vue'\n\nexport default {\n  name: 'app',\n  components: {\n    SumaClient\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3f0b1028&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport App from './App.vue'\n\nVue.config.productionTip = false\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SumaClient.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SumaClient.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}